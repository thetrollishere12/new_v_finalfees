$(document).ready(function(){function e(){var e={useEasing:!0,useGrouping:!0,separator:",",decimal:"."},a=parseFloat($("select[name=seller_level]").val()),n=parseFloat($("input[name=sold_price]").val()||0),t=parseFloat($("input[name=shipping_charge]").val()||0),i=parseFloat($("input[name=shipping_cost]").val()||0),r=parseFloat($("input[name=item_cost]").val()||0),p=parseFloat($("input[name=item_tax]").val()/100||0),l=0,o=n+t;if(o.toFixed(2)>0)l=.03;var s=r+i+(o*a+o*l);s<0&&(s=0);var u=(o-s).toFixed(2);if(u<0)p=0;var m=u-o*p,c=m/s*100||0,v=m/n*100||0;m<0&&(v=0,c=0),v!==1/0&&v!==-1/0||(v=0),c!==1/0&&c!==-1/0||(c=0),profit_c(m,c,v);var _=new CountUp("other-fees",0,o*l,2,.2,e),d=new CountUp("main-tax",0,o*p,2,.2,e),f=new CountUp("main-return",0,c,2,.2,e),g=new CountUp("main-margin",0,v,2,.2,e),h=new CountUp("main-fees",0,o*a,2,.2,e),F=new CountUp("main-profit",0,m,2,.2,e);graph(n,t,i,r,d.endVal,0,_.endVal,h.endVal,F.endVal),h.error?console.error(h.error):(_.start(),h.start(),g.start(),f.start(),F.start(),d.start())}e(),$("#main-calculator").children().keyup(function(){e()}),$("button[name=p-reset]").click(function(){$("input[name=sold_price],input[name=shipping_charge],input[name=shipping_cost],input[name=item_cost],input[name=name]").val(null),$("input[name=item_tax]").val($("input[name=item_tax]").attr("id")),e()}),$("select[name=seller_level]").change(function(){e()})});