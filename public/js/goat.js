$(document).ready(function(){function e(){var e={useEasing:!0,useGrouping:!0,separator:",",decimal:"."},a=0,t=parseFloat($("input[name=sold_price]").val()||0),n=parseFloat($("input[name=item_cost]").val()||0),i=parseFloat($("input[name=item_tax]").val()/100||0),r=0,o=$("select[name=cash_out]").val();if(t.toFixed(2)>0){a=parseFloat($("select[name=seller_location]").val());r=.095}t>25?$("#category-slide").slideDown():$("#category-slide").slideUp();var l=t*r+a,s=l+n+(t-l)*o;s<0&&(s=0);var u=(t-s).toFixed(2);if(u<0)i=0;var p=u-n*i,c=p/s*100||0,m=p/t*100||0;p<0&&(m=0,c=0),m!==1/0&&m!==-1/0||(m=0),c!==1/0&&c!==-1/0||(c=0),profit_c(p,c,m);var d=new CountUp("other-fees",0,(t-l)*o,2,.2,e),v=new CountUp("main-tax",0,n*i,2,.2,e),f=new CountUp("main-fees",0,l,2,.2,e),_=new CountUp("main-return",0,c,2,.2,e),g=new CountUp("main-margin",0,m,2,.2,e),w=new CountUp("main-profit",0,p,2,.2,e);graph(t,0,0,n,v.endVal,0,d.endVal,f.endVal,w.endVal),d.error?console.error(d.error):(d.start(),f.start(),g.start(),_.start(),w.start(),v.start())}e(),$("#main-calculator").children().keyup(function(){e()}),$("button[name=p-reset]").click(function(){$("input[name=sold_price],input[name=item_cost],input[name=name]").val(null),$("input[name=item_tax]").val($("input[name=item_tax]").attr("id")),e()}),$("select").change(function(){e()})});